<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<style type="text/css">
    body{background: #ccc;}
    label{width: 40px; display: inline-block;}
    span{color: red;}
    .container{margin: 100px auto; width: 400px; padding: 50px; line-height: 40px; border: 1px solid #999; background: #efefef;}
    span{margin-left: 30px; font-size: 12px;}
</style>
<body>
<div class="container">
    <label>QQ</label><input type="text" id="inp1"><span></span><br>
    <label>手机</label><input type="text" id="inp2"><span></span><br>
    <label>昵称</label><input type="text" id="inp3"><span></span><br>
    <label>密码</label><input type="password" id="inp4"><span></span><br>
    <label>邮箱</label><input type="text" id="inp5"><span></span><br>
</div>
</body>
<script>
    //$ 获取id
    var $=function(id){
       return document.getElementById(id);
    }

    //监听input值的变化
    var changed=function(id,fn){
        $(id).onchange=fn;
    }


    //设置span里面的内容
    var setNextHtml=function(id,html){
        $(id).nextSibling.innerHTML=html;
    }

    var val=function(id){
        return $(id).value;
    }

    //匹配QQ号码
    changed('inp1',function(){
        if(/^\d{4,10}$/.test(val('inp1'))){
            setNextHtml('inp1','OK');
            }else{
            setNextHtml('inp1','请输入5-11位数字');
        }
    });

    //匹配手机号码
    changed('inp2',function(){
        if(/^1[34578]\d{9}$/.test(val('inp2'))){
            setNextHtml('inp2','OK');
        }else{
            setNextHtml('inp2','数字1开头，11位');
        }
    });

    //匹配昵称
    changed('inp3',function(){
        /*if(/^[a-z][a-zA-Z_0-9]{4,7}$/.test(val('inp3'))){
            setNextHtml('inp3','OK')
        }else{
            setNextHtml('inp3','字母开头，5-8位')
        }*/
        //匹配汉字
        if(/^[a-z][\u4e00-\u9fa5]{1,7}$/.test(val('inp3'))){
            setNextHtml('inp3','OK');
        }else{
            setNextHtml('inp3','字母开头，5-8位');
        }
    });

    //匹配密码
    changed('inp4',function(){
       if(/^[A-Z]\w{4,11}/.test(val('inp4'))){
           setNextHtml('inp4','OK');
       }else{
           setNextHtml('inp4','首字母大写，5-12位');
       }
    });

    //匹配邮箱
    changed('inp5',function(){
        if(/^[\w\-\.]+\@[\w]+\.[\w]{2,4}/.test(val('inp5'))){
            setNextHtml('inp5','OK');
            console.log(val('inp5'));
        }else{
            setNextHtml('inp5','请输入正确的邮箱格式');
            console.log(val('inp5'));
        }
    });

</script>
</html>